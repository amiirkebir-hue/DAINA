import tkinter as tk
from tkinter import ttk
import requests
from threading import Thread

def download_file(url, filename, progress_bar):
    response = requests.get(url, stream=True)
    total = int(response.headers.get('content-length', 0))
    downloaded = 0
    with open(filename, 'wb') as f:
        for data in response.iter_content(chunk_size=1024):
            f.write(data)
            downloaded += len(data)
            if total > 0:
                progress = int(downloaded * 100 / total)
                progress_bar['value'] = progress
            root.update_idletasks()

def start_download():
    url = url_entry.get()
    filename = filename_entry.get()
    Thread(target=download_file, args=(url, filename, progress)).start()

root = tk.Tk()
root.title("Download Manager")

# حذف آیکون از پنجره (هیچ تصویری نمایش داده نشود)
try:
    root.iconbitmap('')  # در بعضی نسخه‌ها کار می‌کند
except:
    pass
try:
    root.tk.call('wm', 'iconphoto', root._w, '')  # در بیشتر نسخه‌ها مؤثر است
except:
    pass

# رابط کاربری
tk.Label(root, text="URL:").pack()
url_entry = tk.Entry(root, width=50)
url_entry.pack()

tk.Label(root, text="Filename:").pack()
filename_entry = tk.Entry(root, width=50)
filename_entry.pack()

progress = ttk.Progressbar(root, length=400)
progress.pack(pady=10)

tk.Button(root, text="Download", command=start_download).pack()

root.mainloop()
